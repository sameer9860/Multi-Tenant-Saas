<div class="max-w-3xl mx-auto mt-10">
  <h1 class="text-2xl font-bold mb-6">Usage Dashboard</h1>

  <div class="bg-white shadow rounded p-6">
    <p class="text-gray-600">Plan: <span id="plan"></span></p>
    <p>Used: <span id="used"></span></p>
    <p>Limit: <span id="limit"></span></p>

    <div class="w-full bg-gray-200 h-3 rounded mt-3">
      <div id="progress" class="bg-indigo-600 h-3 rounded"></div>
    </div>

    <p class="mt-2 text-sm text-gray-500">
      Remaining: <span id="remaining"></span>
    </p>
  </div>
</div>

<script>
fetch("/api/usage/", {
  headers: {
    "Authorization": "Bearer " + localStorage.getItem("access")
  }
})
.then(res => res.json())
.then(data => {
  document.getElementById("plan").innerText = data.plan
  document.getElementById("used").innerText = data.used
  document.getElementById("limit").innerText = data.limit
  document.getElementById("remaining").innerText = data.remaining

  const percent = (data.used / data.limit) * 100
  document.getElementById("progress").style.width = percent + "%"
})
</script>
